

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Basic Usage &mdash; manno v1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ocp_favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="manno v1.0 documentation" href="../index.html"/>
        <link rel="next" title="Object Detection" href="objdetect.html"/>
        <link rel="prev" title="Frequently Asked Questions (FAQ)" href="../sphinx/faq.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> manno
        

        
          
          <img src="../_static/ocp_main.png" class="logo" />
        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sphinx/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sphinx/local_config.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sphinx/local_config.html#loni-installation-notes">LONI Installation Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sphinx/local_config.html#detailed-loni-tips-for-new-users">Detailed LONI tips for new users</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sphinx/ocp.html">OCP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sphinx/ocp.html#contributing">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sphinx/ocp.html#style-guides">Style Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sphinx/ocp.html#ocp-support-forums">OCP Support Forums</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sphinx/faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Basic Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#protocol">Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage-notes">Usage Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#validation">Validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="objdetect.html">Object Detection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="objdetect.html#byooda-bring-your-own-object-detection-algorithm">BYOODA:  Bring Your Own Object Detection Algorithm</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vesiclerf.html">vesicle-rf</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vesiclerf.html#preprocessing">Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="vesiclerf.html#training">Training</a></li>
<li class="toctree-l2"><a class="reference internal" href="vesiclerf.html#evaluation">Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="vesiclerf.html#deployment">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="vesiclerf.html#validation">Validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vesiclecnn.html">vesicle-cnn</a></li>
</ul>
<p class="caption"><span class="caption-text">Paper</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../paper/inputdata.html">Input Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../paper/inputdata.html#ac4">AC4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../paper/inputdata.html#ac3">AC3</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../paper/outputdata.html">Data Derivatives</a></li>
</ul>
<p class="caption"><span class="caption-text">Further Reading</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/functions.html">vesicle-rf Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/functions.html#vesicle-cnn-functions">vesicle-cnn Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference external" href="https://gitter.im/openconnectome/vesicle">Gitter chatroom</a></li>
<li class="toctree-l1"><a class="reference external" href="https://groups.google.com/forum/#!forum/ocp-support/">Mailing List</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/openconnectome/vesicle">Github repo</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/openconnectome/vesicle/releases/">Release Notes</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">manno</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Basic Usage</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/tutorials/basic_usage.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="basic-usage">
<h1>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="protocol">
<h2>Protocol<a class="headerlink" href="#protocol" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Identify a region of interest in OCP, and note the data server, token, resolution, and coordinates</li>
<li>Create a query, using the instructions for CAJAL</li>
<li>Run <em>manno_getImage.m</em> to generate an image volume suitable for annotation in ITK Snap</li>
<li>Annotate: Once the data has been formatted for ITK Snap, the user should open the ITK SNAP application and load in the NIFTI data saved during the data acquisition step. Then using the brush tool, annotate the data as desired. Users can choose to use separate colors for each annotation or rely on a connected component post-processing step to identify each object (best for sparse data)</li>
<li>Save Segmentation Image: (ITK Snap Menu &gt; Segmentation &gt; Save Segmentation Image). Choose a name that you will be able to easily correlate to its appropriate volume image volume.</li>
<li>Run <em>manno_putAnno.m</em>, specifying the server, token, annotation file, and query used to download the underlying image. Users may choose to run a simple connected component post-processing step to break each group of connected pixels (3D) into a separate ID. More complicated post-processing should be done outside of the tool, with the result uploaded using the ocp_upload_dense.m function (see CAJAL documentation).</li>
</ul>
</div>
<div class="section" id="usage-notes">
<h2>Usage Notes<a class="headerlink" href="#usage-notes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>For more information on painting annotations, please follow the steps outlined <a class="reference external" href="http://www.itksnap.org/pmwiki/pmwiki.php?n=Documentation.TutorialSectionManualSegmentation">here</a>.</li>
<li>Currently, only single channel 8-bit image data is supported</li>
<li>ITK-Snap is compatible with a variety of input data formats; the most straightforward is NIFTI, a general purpose neuroimaging format. On laptops or smaller workstations, only a small portion of a slice/volume should be truthed at a time for memory reasons.</li>
<li><em>run_manno_example.m</em> provides a minimal working example to use as a starting point.</li>
</ul>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>The following code demonstrates the manno protocol.  A few mitochondria have been labeled as an example.  The example script should take approximately 10 seconds to complete.</p>
<div class="highlight-matlab"><div class="highlight"><pre><span class="k">function</span><span class="w"> </span><span class="nf">run_manno_example</span><span class="p">()</span><span class="w"></span>
<span class="c">% Mananno Example</span>
<span class="c">% manno starter to demonstrate protocol functionality.  All required inputs</span>
<span class="c">% are hardcoded for this demo.  Paths are hardcoded for Linux/Mac.</span>
<span class="c">%</span>
<span class="c">% The result of this run can be viewed in a webbrowser using the following</span>
<span class="c">% URL: http://braingraph1dev.cs.jhu.edu/ocp/overlay/0.7/temp2/xy/1/5472,5972/8712,9212/1031/</span>
<span class="c">%</span>
<span class="c">% **Author**</span>
<span class="c">%</span>
<span class="c">% W. Gray Roncal</span>

<span class="c">%% test_query</span>
<span class="n">xstart</span> <span class="p">=</span> <span class="mi">5472</span><span class="p">;</span>
<span class="n">xstop</span> <span class="p">=</span> <span class="n">xstart</span> <span class="o">+</span> <span class="mi">512</span><span class="p">;</span>
<span class="n">ystart</span> <span class="p">=</span> <span class="mi">8712</span><span class="p">;</span>
<span class="n">ystop</span> <span class="p">=</span> <span class="n">ystart</span> <span class="o">+</span> <span class="mi">512</span><span class="p">;</span>
<span class="n">zstart</span> <span class="p">=</span> <span class="mi">1020</span><span class="p">;</span>
<span class="n">zstop</span> <span class="p">=</span> <span class="n">zstart</span> <span class="o">+</span> <span class="mi">16</span><span class="p">;</span>

<span class="n">resolution</span> <span class="p">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="n">query</span> <span class="p">=</span> <span class="n">OCPQuery</span><span class="p">;</span>
<span class="n">query</span><span class="p">.</span><span class="n">setType</span><span class="p">(</span><span class="n">eOCPQueryType</span><span class="p">.</span><span class="n">imageDense</span><span class="p">);</span>
<span class="n">query</span><span class="p">.</span><span class="n">setCutoutArgs</span><span class="p">([</span><span class="n">xstart</span><span class="p">,</span> <span class="n">xstop</span><span class="p">],[</span><span class="n">ystart</span><span class="p">,</span><span class="n">ystop</span><span class="p">],[</span><span class="n">zstart</span><span class="p">,</span><span class="n">zstop</span><span class="p">],</span><span class="n">resolution</span><span class="p">);</span>

<span class="c">%% Servers and tokens - alter appropriately</span>
<span class="n">server</span> <span class="p">=</span> <span class="s">&#39;openconnecto.me&#39;</span><span class="p">;</span>
<span class="n">token</span> <span class="p">=</span> <span class="s">&#39;kasthuri11cc&#39;</span><span class="p">;</span>

<span class="n">serverUp</span> <span class="p">=</span> <span class="s">&#39;braingraph1dev.cs.jhu.edu&#39;</span><span class="p">;</span>
<span class="n">tokenUp</span> <span class="p">=</span> <span class="s">&#39;temp2&#39;</span><span class="p">;</span>

<span class="c">%% Run manno</span>
<span class="n">manno_getImage</span><span class="p">(</span><span class="n">server</span><span class="p">,</span><span class="n">token</span><span class="p">,</span><span class="s">&#39;../data/queryFileTest&#39;</span><span class="p">,</span><span class="s">&#39;../data/testitk.nii&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="c">% Manual annotation step happens here</span>
<span class="n">manno_putAnno</span><span class="p">(</span><span class="n">serverUp</span><span class="p">,</span><span class="n">tokenUp</span><span class="p">,</span><span class="s">&#39;../data/queryFileTest&#39;</span><span class="p">,</span><span class="s">&#39;../data/exampleAnno.nii.gz&#39;</span><span class="p">,</span><span class="s">&#39;RAMONOrganelle&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="validation">
<h2>Validation<a class="headerlink" href="#validation" title="Permalink to this headline">¶</a></h2>
<p>The result of the example script can be accessed using the following link:
<a class="reference external" href="http://braingraph1dev.cs.jhu.edu/ocp/overlay/0.7/temp2/xy/1/5472,5972/8712,9212/1031/">http://braingraph1dev.cs.jhu.edu/ocp/overlay/0.7/temp2/xy/1/5472,5972/8712,9212/1031/</a></p>
<p>Note that the server and token pair listed here are public and other data may be pre-existing.</p>
<div class="figure">
<img alt="tutorials/../images/manno_example_result.png" src="tutorials/../images/manno_example_result.png" />
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="objdetect.html" class="btn btn-neutral float-right" title="Object Detection" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../sphinx/faq.html" class="btn btn-neutral" title="Frequently Asked Questions (FAQ)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Open Connectome Project.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>